import bcrypt from 'bcrypt';
import { PrismaClient } from '../src/generated/prisma';

const prisma = new PrismaClient();

const AVAILABLE_TAGS = [
  "üíª Programming", "üåê Web Dev", "‚öõÔ∏è React", "üü£ .NET", "üìê Math", 
  "üéì Education", "üöÄ Startups", "üíº Business", "üé® Design",
  "üí™ Fitness", "‚úàÔ∏è Travel", "üéÆ Gaming", "üéµ Music"
];

const EMOJI_AVATARS = [
  "ü¶Å", "ü¶ä", "üê±", "üê∂", "ü¶Ñ", "üê∏", "üòé", "üëæ", 
  "ü§ñ", "üíÄ", "üëª", "üëΩ", "üí©", "ü§°", "üëπ", "üéÉ", "üìù"
];

const DUMMY_USERS = [
  { firstName: 'Max', secondName: 'Power', email: 'max@test.com' },
  { firstName: 'Anna', secondName: 'Karenina', email: 'anna@test.com' },
  { firstName: 'John', secondName: 'Doe', email: 'john@test.com' },
  { firstName: 'Elon', secondName: 'Musk', email: 'elon@test.com' },
  { firstName: 'Lara', secondName: 'Croft', email: 'lara@test.com' },
  { firstName: 'Keanu', secondName: 'Reeves', email: 'keanu@test.com' },
];

const POSTS_DATA = [
  {
    name: "Mastering Dependency Injection in .NET",
    description: "–ß–æ–º—É DI ‚Äî —Ü–µ –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–¥–∞—á–∞ –æ–±'—î–∫—Ç—ñ–≤ —É –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä? –†–æ–∑–±–∏—Ä–∞—î–º–æ —Ä—ñ–∑–Ω–∏—Ü—é –º—ñ–∂ Transient, Scoped —Ç–∞ Singleton. –ü–æ—à–∏—Ä–µ–Ω–∞ –ø–æ–º–∏–ª–∫–∞: –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Singleton-—Å–µ—Ä–≤—ñ—Å—ñ–≤, —è–∫—ñ –∑–∞–ª–µ–∂–∞—Ç—å –≤—ñ–¥ Scoped-–∫–æ–Ω—Ç–µ–∫—Å—Ç—É –±–∞–∑–∏ –¥–∞–Ω–∏—Ö. –¶–µ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –≤–∏—Ç–æ–∫—É –ø–∞–º'—è—Ç—ñ —Ç–∞ –Ω–µ—Å—Ç–∞–±—ñ–ª—å–Ω–æ—ó —Ä–æ–±–æ—Ç–∏. –ù–∞–π–∫—Ä–∞—â–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞ ‚Äî –∑–∞–≤–∂–¥–∏ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –∂–∏—Ç—Ç—î–≤–∏–π —Ü–∏–∫–ª –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π –ø–µ—Ä–µ–¥ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—î—é –≤ Container.",
    pic: "https://images.unsplash.com/photo-1558494949-ef010cbdcc51?q=80&w=1000",
    tags: [".NET", "Programming", "Education"]
  },
  {
    name: "React Server Components vs Client Components",
    description: "–ö–æ–ª–∏ –≤–∞—Ä—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ 'use client'? –û—Å–Ω–æ–≤–Ω–µ –ø—Ä–∞–≤–∏–ª–æ: —è–∫—â–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É –ø–æ—Ç—Ä—ñ–±–µ–Ω —Å—Ç–∞–Ω (useState), –µ—Ñ–µ–∫—Ç–∏ (useEffect) –∞–±–æ –æ–±—Ä–æ–±–∫–∞ –ø–æ–¥—ñ–π (onClick) ‚Äî —Ü–µ Client Component. –í—Å–µ —ñ–Ω—à–µ, –≤–∫–ª—é—á–∞—é—á–∏ –≤–∏–±—ñ—Ä–∫—É –¥–∞–Ω–∏—Ö –∑ –±–∞–∑–∏, –∫—Ä–∞—â–µ –≤–∏–Ω–æ—Å–∏—Ç–∏ –≤ Server Components. –¶–µ –∑–º–µ–Ω—à—É—î —Ä–æ–∑–º—ñ—Ä JS-–±–∞–Ω–¥–ª–∞, —è–∫–∏–π –ª–µ—Ç–∏—Ç—å –¥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, —Ç–∞ –ø–æ–∫—Ä–∞—â—É—î SEO.",
    pic: "https://images.unsplash.com/photo-1633356122544-f134324a6cee?q=80&w=1000",
    tags: ["React", "Web Dev", "Programming"]
  },
  {
    name: "–õ—ñ–Ω—ñ–π–Ω–∞ –∞–ª–≥–µ–±—Ä–∞ –≤ —Ä–æ–∑—Ä–æ–±—Ü—ñ —ñ–≥–æ—Ä",
    description: "–ù–∞–≤—ñ—â–æ –ø—Ä–æ–≥—Ä–∞–º—ñ—Å—Ç—É –º–∞—Ç—Ä–∏—Ü—ñ —Ç–∞ –≤–µ–∫—Ç–æ—Ä–∏? –ë–µ–∑ –Ω–∏—Ö –Ω–µ–º–æ–∂–ª–∏–≤–æ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –Ω–∞–≤—ñ—Ç—å –ø—Ä–æ—Å—Ç–µ –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –∞–±–æ —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –æ—Å–≤—ñ—Ç–ª–µ–Ω–Ω—è. –°–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫ –≤–µ–∫—Ç–æ—Ä—ñ–≤ –¥–æ–ø–æ–º–∞–≥–∞—î –≤–∏–∑–Ω–∞—á–∏—Ç–∏, —á–∏ –±–∞—á–∏—Ç—å –≤–æ—Ä–æ–≥ –≥—Ä–∞–≤—Ü—è, –∞ –≤–µ–∫—Ç–æ—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫ –ø–æ—Ç—Ä—ñ–±–µ–Ω –¥–ª—è —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É –Ω–æ—Ä–º–∞–ª–µ–π –ø–æ–≤–µ—Ä—Ö–Ω—ñ. –Ø–∫—â–æ —Ö–æ—á–µ—à —É gamedev ‚Äî –ø—ñ–¥—Ç—è–≥—É–π –ª—ñ–Ω—ñ–π–∫—É, —Ü–µ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç.",
    pic: "https://images.unsplash.com/photo-1635070041078-e363dbe005cb?q=80&w=1000",
    tags: ["Math", "Gaming", "Education"]
  },
  {
    name: "The Golden Ratio in Web Design",
    description: "–ü—Ä–∏–Ω—Ü–∏–ø –∑–æ–ª–æ—Ç–æ—ó –ø—Ä–æ–ø–æ—Ä—Ü—ñ—ó (1.618) –¥–æ–ø–æ–º–∞–≥–∞—î —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –≥–∞—Ä–º–æ–Ω—ñ–π–Ω—ñ –º–∞–∫–µ—Ç–∏. –Ø–∫ –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ —Ü–µ –Ω–∞ –ø—Ä–∞–∫—Ç–∏—Ü—ñ? –°–ø—Ä–æ–±—É–π —Ä–æ–∑–¥—ñ–ª–∏—Ç–∏ —à–∏—Ä–∏–Ω—É –∫–æ–Ω—Ç–µ–Ω—Ç–Ω–æ—ó –∑–æ–Ω–∏ –Ω–∞ 1.618 ‚Äî –æ—Ç—Ä–∏–º–∞—î—à —ñ–¥–µ–∞–ª—å–Ω–∏–π —Ä–æ–∑–º—ñ—Ä –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –±–ª–æ–∫—É —Ç–∞ —Å–∞–π–¥–±–∞—Ä—É. –¶–µ –ø—Ä–∞—Ü—é—î –Ω–∞ —Ä—ñ–≤–Ω—ñ –ø—ñ–¥—Å–≤—ñ–¥–æ–º–æ—Å—Ç—ñ, —Ä–æ–±–ª—è—á–∏ —Ç–≤—ñ–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤—ñ–∑—É–∞–ª—å–Ω–æ '–ø—Ä–∞–≤–∏–ª—å–Ω–∏–º'.",
    pic: "https://images.unsplash.com/photo-1561070791-2526d30994b5?q=80&w=1000",
    tags: ["Design", "Web Dev"]
  },
  {
    name: "–Ø–∫ –∑–Ω–∞–π—Ç–∏ –ø–µ—Ä—à–æ–≥–æ –∫–ª—ñ—î–Ω—Ç–∞ –Ω–∞ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä—Å—Ç–≤–æ?",
    description: "–ü–æ—á–∏–Ω–∞—Ç–∏ –∑–∞–≤–∂–¥–∏ –≤–∞–∂–∫–æ. –ú–æ—è –ø–æ—Ä–∞–¥–∞: —Å—Ç–≤–æ—Ä–∏ –ø—Ä–æ—Ñ—ñ–ª—ñ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö —Ç–∞ –∑–∞–ø—Ä–æ–ø–æ–Ω—É–π –ø–µ—Ä—à–µ –∑–∞–Ω—è—Ç—Ç—è –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ. –°–∞—Ä–∞—Ñ–æ–Ω–Ω–µ —Ä–∞–¥—ñ–æ –ø–æ—á–Ω–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –ø—ñ—Å–ª—è –ø–µ—Ä—à–∏—Ö 2-3 —É—Å–ø—ñ—à–Ω–∏—Ö —É—á–Ω—ñ–≤. –ì–æ–ª–æ–≤–Ω–µ ‚Äî –Ω–µ –ø—Ä–æ—Å—Ç–æ –¥–∞–≤–∞—Ç–∏ —Ñ–æ—Ä–º—É–ª–∏, –∞ –ø–æ—è—Å–Ω—é–≤–∞—Ç–∏ –ª–æ–≥—ñ–∫—É. –Ø–∫—â–æ —É—á–µ–Ω—å –∑—Ä–æ–∑—É–º—ñ–≤ '—á–æ–º—É', –≤—ñ–Ω –æ–±–æ–≤'—è–∑–∫–æ–≤–æ –ø–æ—Ä–∞–¥–∏—Ç—å —Ç–µ–±–µ –¥—Ä—É–∑—è–º.",
    pic: "https://images.unsplash.com/photo-1434030216411-0b793f4b4173?q=80&w=1000",
    tags: ["Math", "Education", "Business"]
  },
  {
    name: "MVP: –ß–æ–º—É –ø–µ—Ä—à–∞ –≤–µ—Ä—Å—ñ—è –º–∞—î –±—É—Ç–∏ '—Å–∏—Ä–æ—é'?",
    description: "–ù–∞–π–±—ñ–ª—å—à–∞ –ø–æ–º–∏–ª–∫–∞ —Å—Ç–∞—Ä—Ç–∞–ø—ñ–≤ ‚Äî –Ω–∞–º–∞–≥–∞–Ω–Ω—è –∑—Ä–æ–±–∏—Ç–∏ —ñ–¥–µ–∞–ª—å–Ω–∏–π –ø—Ä–æ–¥—É–∫—Ç –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —à–≤–∏–¥–∫–æ –≤–∏–π—Ç–∏ –Ω–∞ —Ä–∏–Ω–æ–∫, —â–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ —Ñ—ñ–¥–±–µ–∫. –Ø–∫—â–æ —Ç–æ–±—ñ –Ω–µ —Å–æ—Ä–æ–º–Ω–æ –∑–∞ –ø–µ—Ä—à—É –≤–µ—Ä—Å—ñ—é ‚Äî —Ç–∏ –∑–∞–ø—É—Å—Ç–∏–≤—Å—è –∑–∞–Ω–∞–¥—Ç–æ –ø—ñ–∑–Ω–æ. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π –≥–æ—Ç–æ–≤—ñ —Ä—ñ—à–µ–Ω–Ω—è (Firebase, Supabase), —â–æ–± –Ω–µ –≤–∏—Ç—Ä–∞—á–∞—Ç–∏ –º—ñ—Å—è—Ü—ñ –Ω–∞ –±–µ–∫–µ–Ω–¥.",
    pic: "https://images.unsplash.com/photo-1559136555-9303baea8ebd?q=80&w=1000",
    tags: ["Startups", "Business"]
  },
  {
    name: "Mastering CSS Grid: Layouts in 2026",
    description: "–ó–∞–±—É–¥—å –ø—Ä–æ —Å–∫–ª–∞–¥–Ω—ñ float —Ç–∞ –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ Flexbox –¥–ª—è —Å—ñ—Ç–æ–∫. Grid –¥–æ–∑–≤–æ–ª—è—î –±—É–¥—É–≤–∞—Ç–∏ –¥–≤–æ–≤–∏–º—ñ—Ä–Ω—ñ –º–∞–∫–µ—Ç–∏ –∑–∞ –ª—ñ—á–µ–Ω—ñ —Ö–≤–∏–ª–∏–Ω–∏. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π `grid-template-areas` –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤—ñ–∑—É–∞–ª—å–Ω–æ –∑—Ä–æ–∑—É–º—ñ–ª–æ—ó —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –ø—Ä—è–º–æ –≤ CSS. –¶–µ —Ä–æ–±–∏—Ç—å –∫–æ–¥ –∑–Ω–∞—á–Ω–æ —á–∏—Å—Ç—ñ—à–∏–º —Ç–∞ –ª–µ–≥—à–∏–º –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –∫–æ–ª–µ–≥–∞–º–∏.",
    pic: "https://images.unsplash.com/photo-1507238691740-187a5b1d37b8?q=80&w=1000",
    tags: ["Web Dev", "Design", "Programming"]
  },
  {
    name: "JavaScript Event Loop: –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ?",
    description: "JS –æ–¥–Ω–æ–ø–æ—Ç–æ–∫–æ–≤–∏–π, –∞–ª–µ —è–∫ –≤—ñ–Ω –æ–±—Ä–æ–±–ª—è—î —Ç–∏—Å—è—á—ñ –∑–∞–ø–∏—Ç—ñ–≤ –æ–¥–Ω–æ—á–∞—Å–Ω–æ? –°–ø—Ä–∞–≤–∞ –≤ Event Loop. –ú—ñ–∫—Ä–æ–∑–∞–¥–∞—á—ñ (Promises) –º–∞—é—Ç—å –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ –º–∞–∫—Ä–æ–∑–∞–¥–∞—á–∞–º–∏ (setTimeout). –†–æ–∑—É–º—ñ–Ω–Ω—è —Ü—å–æ–≥–æ —á–µ—Ä–≥—É–≤–∞–Ω–Ω—è –¥–æ–ø–æ–º–æ–∂–µ —É–Ω–∏–∫–∞—Ç–∏ –±–∞–≥—ñ–≤ –∑ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ—Å—Ç—é —Ç–∞ –ø–∏—Å–∞—Ç–∏ –∫–æ–¥, —è–∫–∏–π –ø—Ä–∞—Ü—é—î –ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–æ.",
    pic: "https://images.unsplash.com/photo-1579468118864-1b9ea3c0db4a?q=80&w=1000",
    tags: ["Programming", "Web Dev"]
  },
  {
    name: "Protein Intake for Sedentary Workers",
    description: "–ù–∞–≤—ñ—Ç—å —è–∫—â–æ —Ç–∏ —Ü—ñ–ª–∏–π –¥–µ–Ω—å —Å–∏–¥–∏—à –∑–∞ –∫–æ–¥–æ–º, —Ç–≤–æ—ó –º'—è–∑–∏ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å –±—ñ–ª–∫–∞ –¥–ª—è –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è. –û–ø—Ç–∏–º–∞–ª—å–Ω–∞ –Ω–æ—Ä–º–∞ ‚Äî 1.2-1.5–≥ –Ω–∞ –∫—ñ–ª–æ–≥—Ä–∞–º –≤–∞–≥–∏. –¶–µ –¥–æ–ø–æ–º–∞–≥–∞—î –Ω–µ —Ç—ñ–ª—å–∫–∏ —Ç—Ä–∏–º–∞—Ç–∏ —Ñ–æ—Ä–º—É, –∞ –π –ø–æ–∫—Ä–∞—â—É—î –∫–æ–≥–Ω—ñ—Ç–∏–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó. –î–æ–¥–∞–≤–∞–π —Å–∏—Ä –∞–±–æ –∫—É—Ä–∫—É –≤ —Ä–∞—Ü—ñ–æ–Ω ‚Äî –º–æ–∑–æ–∫ —Å–∫–∞–∂–µ '–¥—è–∫—É—é' –ø—ñ–¥ —á–∞—Å –¥–æ–≤–≥–∏—Ö —Å–µ—Å—ñ–π –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è.",
    pic: "https://images.unsplash.com/photo-1546069901-ba9599a7e63c?q=80&w=1000",
    tags: ["Fitness", "Lifestyle"]
  },
  {
    name: "Hidden Gems in Portugal for Nomads",
    description: "–õ—ñ—Å–∞–±–æ–Ω —Å—Ç–∞–≤ –∑–∞–Ω–∞–¥—Ç–æ –¥–æ—Ä–æ–≥–∏–º? –°–ø—Ä–æ–±—É–π –ï—Ä—ñ—Å–µ–π—Ä—É –∞–±–æ –õ–∞–≥—É—à. –¢—É—Ç —á—É–¥–æ–≤–∏–π —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç, –¥–æ—Å—Ç—É–ø–Ω–µ –∂–∏—Ç–ª–æ —Ç–∞ –Ω–µ–π–º–æ–≤—ñ—Ä–Ω–∞ —Å–ø—ñ–ª—å–Ω–æ—Ç–∞ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤. –ñ–∏—Ç—Ç—è –±—ñ–ª—è –æ–∫–µ–∞–Ω—É –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ –∑–º—ñ–Ω—é—î —Ä—ñ–≤–µ–Ω—å —Å—Ç—Ä–µ—Å—É. Starlink —Ç—É—Ç –ø—Ä–∞—Ü—é—î —ñ–¥–µ–∞–ª—å–Ω–æ, —Ç–æ–∂ –º–æ–∂–Ω–∞ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –Ω–∞–≤—ñ—Ç—å –∑ –ø–ª—è–∂—É.",
    pic: "https://images.unsplash.com/photo-1539183204366-63a0589187ab?q=80&w=1000",
    tags: ["Travel", "Business"]
  },
  {
    name: "Classical Music vs Lo-Fi for Coding",
    description: "–î–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è –ø–æ–∫–∞–∑—É—é—Ç—å, —â–æ –º—É–∑–∏–∫–∞ –±–µ–∑ —Å–ª—ñ–≤ –Ω–∞–π–∫—Ä–∞—â–µ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è —Ñ–æ–∫—É—Å—É–≤–∞–Ω–Ω—è. Lo-Fi —Ä–∏—Ç–º–∏ (80-90 BPM) —ñ–º—ñ—Ç—É—é—Ç—å —Å–µ—Ä—Ü–µ–±–∏—Ç—Ç—è, —â–æ –∑–∞—Å–ø–æ–∫–æ—é—î –Ω–µ—Ä–≤–æ–≤—É —Å–∏—Å—Ç–µ–º—É. –ö–ª–∞—Å–∏–∫–∞ –∂, —è–∫ –ë–∞—Ö, —Å—Ç–∏–º—É–ª—é—î –ª–æ–≥—ñ—á–Ω–µ –º–∏—Å–ª–µ–Ω–Ω—è. –©–æ –æ–±–∏—Ä–∞—î—à —Ç–∏ –¥–ª—è –≤–∞–∂–∫–æ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É?",
    pic: "https://images.unsplash.com/photo-1511379938547-c1f69419868d?q=80&w=1000",
    tags: ["Music", "Programming"]
  },
  {
    name: "Entity Framework Performance Pitfalls",
    description: "–ù–∞–π–±—ñ–ª—å—à–∞ –ø—Ä–æ–±–ª–µ–º–∞ ‚Äî N+1 –∑–∞–ø–∏—Ç–∏. –ó–∞–≤–∂–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π `.Include()`, —â–æ–± –ø—ñ–¥–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ –ø–æ–≤'—è–∑–∞–Ω—ñ –¥–∞–Ω—ñ –æ–¥–Ω–∏–º –∑–∞–ø–∏—Ç–æ–º. –¢–∞–∫–æ–∂ –Ω–µ –∑–∞–±—É–≤–∞–π –ø—Ä–æ `.AsNoTracking()` –¥–ª—è –æ–ø–µ—Ä–∞—Ü—ñ–π —á–∏—Ç–∞–Ω–Ω—è ‚Äî —Ü–µ –µ–∫–æ–Ω–æ–º–∏—Ç—å —Ä–µ—Å—É—Ä—Å–∏ –ø–∞–º'—è—Ç—ñ, –æ—Å–∫—ñ–ª—å–∫–∏ EF –Ω–µ –±—É–¥–µ –≤—ñ–¥—Å—Ç–µ–∂—É–≤–∞—Ç–∏ –∑–º—ñ–Ω–∏ –≤ –æ–±'—î–∫—Ç–∞—Ö.",
    pic: "https://images.unsplash.com/photo-1544383835-bda2bc66a55d?q=80&w=1000",
    tags: [".NET", "Programming"]
  },
  {
    name: "The Psychology of RPG Games",
    description: "–ß–æ–º—É –º–∏ –≥–æ—Ç–æ–≤—ñ –≤–∏—Ç—Ä–∞—á–∞—Ç–∏ —Å–æ—Ç–Ω—ñ –≥–æ–¥–∏–Ω –Ω–∞ –ø—Ä–æ–∫–∞—á—É–≤–∞–Ω–Ω—è –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞? –°–ø—Ä–∞–≤–∞ –≤ —Å–∏—Å—Ç–µ–º—ñ –≤–∏–Ω–∞–≥–æ—Ä–æ–¥–∏ –º–æ–∑–∫—É (–¥–æ—Ñ–∞–º—ñ–Ω). –ì–µ–π–º–¥–∏–∑–∞–π–Ω–µ—Ä–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –ø–µ—Ç–ª—ñ –∑–≤–æ—Ä–æ—Ç–Ω–æ–≥–æ –∑–≤'—è–∑–∫—É, —â–æ–± —Ç—Ä–∏–º–∞—Ç–∏ –≥—Ä–∞–≤—Ü—è –≤ —Å—Ç–∞–Ω—ñ –ø–æ—Ç–æ–∫—É. –†–æ–∑—É–º—ñ–Ω–Ω—è —Ü–∏—Ö –º–µ—Ö–∞–Ω—ñ–∫ –∫–æ—Ä–∏—Å–Ω–µ –Ω–∞–≤—ñ—Ç—å —É –≤–µ–±—ñ –¥–ª—è –≥–µ–π–º—ñ—Ñ—ñ–∫–∞—Ü—ñ—ó —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ–≤.",
    pic: "https://images.unsplash.com/photo-1542751371-adc38448a05e?q=80&w=1000",
    tags: ["Gaming", "Design"]
  },
  {
    name: "Intermittent Fasting for Developers",
    description: "–•–∞—Ä—á—É–≤–∞–Ω–Ω—è 16/8 –¥–æ–ø–æ–º–∞–≥–∞—î –º–µ–Ω—ñ –∑–∞–ª–∏—à–∞—Ç–∏—Å—è —Å—Ñ–æ–∫—É—Å–æ–≤–∞–Ω–∏–º –∑—Ä–∞–Ω–∫—É. –ö–æ–ª–∏ –æ—Ä–≥–∞–Ω—ñ–∑–º –Ω–µ –≤–∏—Ç—Ä–∞—á–∞—î –µ–Ω–µ—Ä–≥—ñ—é –Ω–∞ —Ç—Ä–∞–≤–ª–µ–Ω–Ω—è —Å–Ω—ñ–¥–∞–Ω–∫—É, –≤—Å—è –∫—Ä–æ–≤ –π–¥–µ –≤ –º–æ–∑–æ–∫. –¶–µ —á—É–¥–æ–≤–∏–π —á–∞—Å –¥–ª—è –≤–∏—Ä—ñ—à–µ–Ω–Ω—è –Ω–∞–π—Å–∫–ª–∞–¥–Ω—ñ—à–∏—Ö —Ç–∞—Å–∫—ñ–≤. –ì–æ–ª–æ–≤–Ω–µ ‚Äî –ø–∏—Ç–∏ –±–∞–≥–∞—Ç–æ –≤–æ–¥–∏ —Ç–∞ —á–æ—Ä–Ω—É –∫–∞–≤—É –±–µ–∑ —Ü—É–∫—Ä—É.",
    pic: "https://images.unsplash.com/photo-1490645935967-10de6ba17061?q=80&w=1000",
    tags: ["Fitness", "Lifestyle"]
  },
  {
    name: "Mastering the Linux CLI",
    description: "Bash ‚Äî —Ü–µ —Å—É–ø–µ—Ä—Å–∏–ª–∞. –ù–∞–≤—á—è–∏—Å—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `grep`, `sed` —Ç–∞ `awk` –¥–ª—è –æ–±—Ä–æ–±–∫–∏ –≤–µ–ª–∏–∫–∏—Ö –ª–æ–≥—ñ–≤. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è —Ä—É—Ç–∏–Ω–Ω–∏—Ö –∑–∞–¥–∞—á —á–µ—Ä–µ–∑ shell-—Å–∫—Ä–∏–ø—Ç–∏ –∑–µ–∫–æ–Ω–æ–º–∏—Ç—å —Ç–æ–±—ñ –≥–æ–¥–∏–Ω–∏ —Ä–æ–±–æ—Ç–∏ —â–æ—Ç–∏–∂–Ω—è. –Ø–∫—â–æ —Ç–∏ –Ω–∞ Windows ‚Äî WSL2 –∑–∞—Ä–∞–∑ –ø—Ä–∞—Ü—é—î –Ω–∞—Ç–∏–≤–Ω–æ —ñ –¥—É–∂–µ —à–≤–∏–¥–∫–æ.",
    pic: "https://images.unsplash.com/photo-1629654297299-c8506221ca97?q=80&w=1000",
    tags: ["Programming", "Education"]
  },
  {
    name: "Git Branching Strategies: Trunk vs GitFlow",
    description: "–î–ª—è –≤–µ–ª–∏–∫–∏—Ö –∫–æ–º–∞–Ω–¥ GitFlow ‚Äî —Ü–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç, –∞–ª–µ –¥–ª—è —Å—Ç–∞—Ä—Ç–∞–ø—ñ–≤ Trunk-based —Ä–æ–∑—Ä–æ–±–∫–∞ –Ω–∞–±–∞–≥–∞—Ç–æ –∫—Ä–∞—â–∞. –ó–ª–∏—Ç—Ç—è –º–∞–ª–∏—Ö –∑–º—ñ–Ω –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –≤ master –∑–º–µ–Ω—à—É—î –∫–æ–Ω—Ñ–ª—ñ–∫—Ç–∏ —Ç–∞ –ø—Ä–∏—à–≤–∏–¥—à—É—î –¥–æ—Å—Ç–∞–≤–∫—É –∫–æ–¥—É –¥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞. –ì–æ–ª–æ–≤–Ω–µ ‚Äî –º–∞—Ç–∏ –Ω–∞–¥—ñ–π–Ω—ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ —Ç–µ—Å—Ç–∏.",
    pic: "https://images.unsplash.com/photo-1556075798-4825dfabb46e?q=80&w=1000",
    tags: ["Programming", "Startups"]
  },
  {
    name: "Remote Work Burnout: How to Prevent",
    description: "–ö–æ–ª–∏ —Ä–æ–±–æ—á–µ –º—ñ—Å—Ü–µ ‚Äî —Ü–µ —Ç–≤—ñ–π –¥–∏–≤–∞–Ω, –º–µ–∂–∞ –º—ñ–∂ –∂–∏—Ç—Ç—è–º —Ç–∞ —Ä–æ–±–æ—Ç–æ—é –∑–Ω–∏–∫–∞—î. –í—Å—Ç–∞–Ω–æ–≤–∏ —á—ñ—Ç–∫—ñ –≥–æ–¥–∏–Ω–∏ —Ä–æ–±–æ—Ç–∏ —Ç–∞ –≤–∏–º–∏–∫–∞–π –≤—Å—ñ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—ñ—Å–ª—è 19:00. –û–±–æ–≤'—è–∑–∫–æ–≤–æ –≤–∏—Ö–æ–¥—å –Ω–∞ –ø—Ä–æ–≥—É–ª—è–Ω–∫—É –≤–¥–µ–Ω—å, —ñ–Ω–∞–∫—à–µ —Ç–≤—ñ–π –¥—ñ–º –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç—å—Å—è –Ω–∞ –∑–æ–ª–æ—Ç—É –∫–ª—ñ—Ç–∫—É. –°–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—è –∑ –∂–∏–≤–∏–º–∏ –ª—é–¥—å–º–∏ ‚Äî –Ω–∞–π–∫—Ä–∞—â–∏–π –∞–Ω—Ç–∏–¥–µ–ø—Ä–µ—Å–∞–Ω—Ç.",
    pic: "https://images.unsplash.com/photo-1527689368864-3a821dbccc34?q=80&w=1000",
    tags: ["Lifestyle", "Business"]
  },
  {
    name: "Mastering CSS Container Queries",
    description: "–ù–∞—Ä–µ—à—Ç—ñ –º–∏ –º–æ–∂–µ–º–æ —Å—Ç–∏–ª—ñ–∑—É–≤–∞—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç–∏ –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ä–æ–∑–º—ñ—Ä—É —ó—Ö–Ω—å–æ–≥–æ –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –∞ –Ω–µ –≤—Å—å–æ–≥–æ –µ–∫—Ä–∞–Ω–∞. –¶–µ —Ä–µ–≤–æ–ª—é—Ü—ñ—è –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–æ–≥–æ –ø—ñ–¥—Ö–æ–¥—É. –¢–µ–ø–µ—Ä –æ–¥–Ω–∞ —ñ —Ç–∞ –∂ –∫–∞—Ä—Ç–∫–∞ –±—É–¥–µ –≤–∏–≥–ª—è–¥–∞—Ç–∏ —ñ–¥–µ–∞–ª—å–Ω–æ —ñ –≤ —à–∏—Ä–æ–∫–æ–º—É –±–ª–æ—Ü—ñ, —ñ –≤ –≤—É–∑—å–∫—ñ–π –∫–æ–ª–æ–Ω—Ü—ñ –±–µ–∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Å–∫–ª–∞–¥–Ω–∏—Ö –º–µ–¥—ñ–∞-–∑–∞–ø–∏—Ç—ñ–≤.",
    pic: "https://images.unsplash.com/photo-1523437113738-bbd3cc89fb19?q=80&w=1000",
    tags: ["Web Dev", "Design"]
  },
  {
    name: "Calculus in Neural Networks",
    description: "Backpropagation ‚Äî —Ü–µ –ø—Ä–æ—Å—Ç–æ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –ø—Ä–∞–≤–∏–ª–∞ –¥–∏—Ñ–µ—Ä–µ–Ω—Ü—ñ—é–≤–∞–Ω–Ω—è —Å–∫–ª–∞–¥–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó (chain rule). –Ø–∫—â–æ —Ç–∏ —Ä–æ–∑—É–º—ñ—î—à –ø–æ—Ö—ñ–¥–Ω—ñ, —Ç–∏ —Ä–æ–∑—É–º—ñ—î—à, —è–∫ –Ω–∞–≤—á–∞—é—Ç—å—Å—è –Ω–µ–π—Ä–æ–Ω–Ω—ñ –º–µ—Ä–µ–∂—ñ. –ù–µ –±—ñ–π—Å—è —Ñ–æ—Ä–º—É–ª, –≤–æ–Ω–∏ ‚Äî –≤—Å—å–æ–≥–æ –ª–∏—à–µ —Å–ø–æ—Å—ñ–± –æ–ø–∏—Å–∞—Ç–∏, —è–∫ –º–∞–ª–µ–Ω—å–∫—ñ –∑–º—ñ–Ω–∏ –≤–∞–≥—ñ–≤ –≤–ø–ª–∏–≤–∞—é—Ç—å –Ω–∞ –ø–æ–º–∏–ª–∫—É –º–æ–¥–µ–ª—ñ.",
    pic: "https://images.unsplash.com/photo-1509228468518-180dd4864904?q=80&w=1000",
    tags: ["Math", "Programming", "Education"]
  },
  {
    name: "Finding Your Niche in Freelance",
    description: "–ù–µ –Ω–∞–º–∞–≥–∞–π—Å—è –±—É—Ç–∏ '–ø—Ä–æ—Å—Ç–æ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–æ–º'. –ë—É–¥—å '–µ–∫—Å–ø–µ—Ä—Ç–æ–º –∑ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –ø–ª–∞—Ç—ñ–∂–Ω–∏—Ö —Å–∏—Å—Ç–µ–º —É React' –∞–±–æ '—Ñ–∞—Ö—ñ–≤—Ü–µ–º –∑ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó SQL'. –í—É–∑—å–∫–∞ –Ω—ñ—à–∞ –¥–æ–∑–≤–æ–ª—è—î —Å—Ç–∞–≤–∏—Ç–∏ –≤–∏—â–∏–π —Ü—ñ–Ω–Ω–∏–∫ —Ç–∞ —à–≤–∏–¥—à–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç–∏ —Ü—ñ–ª—å–æ–≤–∏—Ö –∫–ª—ñ—î–Ω—Ç—ñ–≤. –°–ø–µ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è ‚Äî —Ü–µ –∫–ª—é—á –¥–æ –≤–∏—Å–æ–∫–æ–≥–æ –¥–æ—Ö–æ–¥—É –Ω–∞ Upwork.",
    pic: "https://images.unsplash.com/photo-1454165833767-027eeef15265?q=80&w=1000",
    tags: ["Business", "Startups"]
  }
];

function getRandomItem<T>(arr: T[]): T {
  return arr[Math.floor(Math.random() * arr.length)] as T;
}

function getRandomInt(min: number, max: number): number {
  return Math.floor(Math.random() * (max - min + 1)) + min;
}

async function main() {
  console.log('üöÄ Start seeding...');

  await prisma.postLike.deleteMany();
  await prisma.postTag.deleteMany();
  await prisma.post.deleteMany();
  await prisma.tag.deleteMany();
  await prisma.user.deleteMany();

  const hashedPassword = await bcrypt.hash('1234', 10);

  const createdTags = await Promise.all(
    AVAILABLE_TAGS.map(tagName => 
      prisma.tag.create({ data: { name: tagName } })
    )
  );

  const findTagId = (keyword: string): number | null => {
    const found = createdTags.find(t => t.name.includes(keyword));
    return found ? found.id : null;
  };

  const adminUser = await prisma.user.create({
    data: {
      email: 'sasha@voloshyn.com',
      firstName: 'Sasha',
      secondName: 'Voloshyn',
      password: hashedPassword,
      avatar: 'ü¶Å',
      isAdmin: true,
    },
  });

  const createdUsers = [adminUser];

  for (const u of DUMMY_USERS) {
    const user = await prisma.user.create({
      data: {
        email: u.email,
        firstName: u.firstName,
        secondName: u.secondName,
        password: hashedPassword,
        avatar: getRandomItem(EMOJI_AVATARS),
      },
    });
    createdUsers.push(user);
  }

  for (const postData of POSTS_DATA) {
    const isSasha = Math.random() < 0.35;
    const author = isSasha ? adminUser : getRandomItem(createdUsers);

    const postTagIds = postData.tags
      .map(tagKeyword => findTagId(tagKeyword))
      .filter((id): id is number => id !== null);

    await prisma.post.create({
      data: {
        name: postData.name,
        description: postData.description,
        pic: postData.pic,
        likeCount: getRandomInt(5, 200),
        user: { connect: { id: author.id } },
        tags: {
          create: postTagIds.map(tagId => ({
            tag: { connect: { id: tagId } }
          }))
        }
      }
    });
  }

  console.log('‚úÖ Seed successful');
}

main()
  .catch((e) => {
    console.error(e);
    process.exit(1);
  })
  .finally(async () => {
    await prisma.$disconnect();
  });